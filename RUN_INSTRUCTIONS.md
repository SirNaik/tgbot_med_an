# Инструкция по запуску Telegram бота

## Требования
- Python 3.8 или выше
- Учетная запись в Telegram
- Учетная запись в GigaChat API

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

3. Отредактируйте файл `.env`, добавив свои токены:
```
TELEGRAM_BOT_TOKEN=ваш_telegram_токен
GIGACHAT_CREDENTIALS=ваши_gigachat_учетные_данные
GIGACHAT_SCOPE=ваш_gigachat_scope
```

## Запуск бота

Запустите бота командой:
```bash
python bot.py
```

Или используйте скрипт запуска:
```bash
chmod +x run_bot.sh
./run_bot.sh
```

## Использование

1. Найдите вашего бота в Telegram по его имени
2. Отправьте команду `/start`
3. Загрузите документ с результатами анализов в одном из поддерживаемых форматов:
   - DOC/DOCX (документы Word)
   - XLS/XLSX (таблицы Excel)
   - PDF (PDF-документы)
   - JPEG/PNG (изображения)
4. Бот проанализирует документ и предоставит интерпретацию результатов
5. После завершения анализа бот напомнит вам, что результаты носят информационный характер

## Ведение логов

Все взаимодействия с ботом автоматически записываются в файл `users.txt` в следующем формате:
```
ID пользователя|Имя|Username|Дата и время запроса|Тип файла|Тип запроса|Общий счетчик запросов
```

## Безопасность
- Не делитесь содержимым файла `.env` с другими
- Храните токены в надежном месте
- Регулярно меняйте токены доступа

## Развертывание на сервере

Для постоянной работы на сервере рекомендуется использовать `screen` или `tmux`:
```bash
screen -S tgbot
python bot.py
# Нажмите Ctrl+A, затем D чтобы покинуть сессию screen
```

Чтобы вернуться к сессии:
```bash
screen -r tgbot
```